{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template mod_bookit/resource_item_card

    Resource item card.

    Context variables from resource_item_card::export_for_template()

    Example context (json):
    {
        "id": 1,
        "categoryid": 1,
        "name": "Resource Name",
        "description": "Resource Description",
        "amount": 5,
        "amountirrelevant": false,
        "sortorder": 0,
        "active": true
    }
}}
<div class="card mb-2 resource-item-card {{^active}}opacity-50{{/active}}"
     id="resource-item-{{id}}"
     data-region="resource-item"
     data-itemid="{{id}}"
     data-item-categoryid="{{categoryid}}"
     data-item-sortorder="{{sortorder}}"
     data-item-active="{{active}}"
     draggable="true">

    <div class="card-body p-3 d-flex align-items-center">
        <div class="drag-handle mr-3" data-action="drag-handle">
            <i class="fa fa-grip-vertical text-muted"></i>
        </div>

        <div class="flex-grow-1">
            <strong>{{name}}</strong>
            {{#description}}
                <br><small class="text-muted">{{description}}</small>
            {{/description}}
        </div>

        <div class="mr-3">
            {{#amountirrelevant}}
                <span class="badge badge-secondary">{{#str}}resources:amount_unlimited, mod_bookit{{/str}}</span>
            {{/amountirrelevant}}
            {{^amountirrelevant}}
                <span class="badge badge-info">{{amount}}x</span>
            {{/amountirrelevant}}
        </div>

        <div class="btn-group">
            <button class="btn btn-sm btn-primary"
                    data-action="edit-item"
                    data-item-id="{{id}}">
                {{#str}}edit{{/str}}
            </button>

            <button class="btn btn-sm btn-danger"
                    data-action="delete-item"
                    data-item-id="{{id}}">
                {{#str}}delete{{/str}}
            </button>
        </div>
    </div>
</div>
