define("mod_bookit/resource_item",["exports","core/reactive","core/templates","core_form/modalform","core/str","core/notification"],(function(_exports,_reactive,_templates,_modalform,_str,_notification){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Resource item reactive component.
   *
   * @module mod_bookit/resource_item
   * @copyright   2026 ssystems GmbH <oss@ssystems.de>
   * @author      Andreas Rosenthal
   * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_templates=_interopRequireDefault(_templates),_modalform=_interopRequireDefault(_modalform),_notification=_interopRequireDefault(_notification);class ResourceItem extends _reactive.BaseComponent{static get componentName(){return"mod_bookit/resource_item"}create(_ref){let{element:element,itemData:itemData}=_ref;this.itemData=itemData,this.itemElement=null,this.parentElement=element,this._render()}getWatchers(){return[]}async _render(){const html=await _templates.default.render("mod_bookit/resource_item_card",this.itemData),wrapper=document.createElement("div");wrapper.innerHTML=html.trim(),this.itemElement=wrapper.firstChild,this.parentElement.appendChild(this.itemElement),this._attachEventListeners()}_attachEventListeners(){if(!this.itemElement)return;const editBtn=this.itemElement.querySelector('[data-action="edit-item"]');editBtn&&editBtn.addEventListener("click",(e=>{e.preventDefault(),this._handleEdit()}));const deleteBtn=this.itemElement.querySelector('[data-action="delete-item"]');deleteBtn&&deleteBtn.addEventListener("click",(e=>{e.preventDefault(),this._handleDelete()}))}async _handleEdit(){const modalForm=new _modalform.default({formClass:"mod_bookit\\form\\edit_resource_form",args:{id:this.itemData.id},modalConfig:{title:await(0,_str.get_string)("resources:edit_resource","mod_bookit")}});modalForm.addEventListener(modalForm.events.FORM_SUBMITTED,(e=>{this.reactive.dispatch("updateItem",e.detail)})),modalForm.show()}async _handleDelete(){const confirmMsg=await(0,_str.get_string)("resources:confirm_delete_resource","mod_bookit",this.itemData.name);_notification.default.confirm(await(0,_str.get_string)("confirm","core"),confirmMsg,await(0,_str.get_string)("yes","core"),await(0,_str.get_string)("no","core"),(()=>{this.reactive.dispatch("deleteItem",this.itemData.id)}))}update(newData){this.itemData=newData;const nameEl=this.itemElement.querySelector("h6");nameEl&&(nameEl.textContent=newData.name);const descEl=this.itemElement.querySelector(".text-muted");descEl&&(descEl.textContent=newData.description||"")}remove(){this.itemElement&&this.itemElement.parentNode&&this.itemElement.parentNode.removeChild(this.itemElement)}}return _exports.default=ResourceItem,_exports.default}));

//# sourceMappingURL=resource_item.min.js.map