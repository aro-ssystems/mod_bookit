define("mod_bookit/resource_reactive",["exports","core/reactive"],(function(_exports,_reactive){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.resourceReactiveInstance=_exports.initResourceReactive=void 0;
/**
   * Reactive store for resource catalog.
   *
   * @module mod_bookit/resource_reactive
   * @copyright   2026 ssystems GmbH <oss@ssystems.de>
   * @author      Andreas Rosenthal
   * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
const EVENTNAME="mod_bookit:resource_catalog_state_event";let resourceReactiveInstance=null;_exports.resourceReactiveInstance=resourceReactiveInstance;function dispatchResourceStateEvent(detail,target){void 0===target&&(target=document),target.dispatchEvent(new CustomEvent(EVENTNAME,{bubbles:!0,detail:detail}))}_exports.initResourceReactive=initialState=>(null===resourceReactiveInstance&&(_exports.resourceReactiveInstance=resourceReactiveInstance=new _reactive.Reactive({name:"Moodle Bookit Resource Catalog",eventName:EVENTNAME,eventDispatch:dispatchResourceStateEvent,mutations:{createCategory:(state,category)=>{state.categories.push({id:category.id,name:category.name,description:category.description||"",sortorder:category.sortorder||state.categories.length})},updateCategory:(state,category)=>{const index=state.categories.findIndex((c=>c.id===category.id));-1!==index&&(state.categories[index]={id:category.id,name:category.name,description:category.description||"",sortorder:category.sortorder})},deleteCategory:(state,categoryId)=>{state.items=state.items.filter((item=>item.categoryid!==categoryId)),state.categories=state.categories.filter((c=>c.id!==categoryId))},createItem:(state,item)=>{state.items.push({id:item.id,name:item.name,description:item.description||"",categoryid:item.categoryid,amount:item.amount||1,amountirrelevant:item.amountirrelevant||!1,sortorder:item.sortorder||0})},updateItem:(state,item)=>{const index=state.items.findIndex((i=>i.id===item.id));-1!==index&&(state.items[index]={id:item.id,name:item.name,description:item.description||"",categoryid:item.categoryid,amount:item.amount||1,amountirrelevant:item.amountirrelevant||!1,sortorder:item.sortorder})},deleteItem:(state,itemId)=>{state.items=state.items.filter((i=>i.id!==itemId))}}}),resourceReactiveInstance.setInitialState({categories:initialState.categories,items:initialState.items})),resourceReactiveInstance)}));

//# sourceMappingURL=resource_reactive.min.js.map