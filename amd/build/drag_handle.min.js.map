{"version":3,"file":"drag_handle.min.js","sources":["../src/drag_handle.js"],"sourcesContent":["import {BaseComponent, DragDrop} from 'core/reactive';\nimport { masterChecklistReactiveInstance } from 'mod_bookit/master_checklist_reactive';\nimport { SELECTORS } from 'mod_bookit/master_checklist_reactive';\n\nexport default class extends BaseComponent {\n\n    static init(target, selectors) {\n        return new this({\n            element: document.querySelector(target),\n            reactive: masterChecklistReactiveInstance,\n            selectors: selectors || SELECTORS,\n        });\n    }\n\n    stateReady() {\n        this.relativeDrag = true;\n\n        // this.dragdrop = new DragDrop(this);\n\n        const itemSelector = `tr[data-bookit-drag-handle-id=\"${this.element.dataset.bookitDragHandleId}\"]`;\n        window.console.log('itemSelector: ', itemSelector);\n\n        const itemRow = document.querySelector(itemSelector);\n\n        window.console.log('DragDrop initialized for item: ', itemRow);\n\n        window.console.log(this.element)\n\n        this.fullregion = itemRow;\n\n        this.dragdrop = new DragDrop(this);\n    }\n\n    destroy() {\n        if (this.dragdrop !== undefined) {\n            this.dragdrop.unregister();\n        }\n    }\n\n    getDraggableData() {\n        return {\n            id: this.element.dataset.bookitDragHandleId,\n            type: this.element.dataset.bookitDragHandleType,\n            parentId: this.fullregion.dataset.bookitDragHandleParentId,\n        };\n    }\n\n    dragStart(dragData, event) {\n        // This method is called when the drag operation starts.\n        window.console.log('Drag started', dragData);\n    }\n\n    dragEnd(dragData, event) {\n        // This method is called when the drag operation ends.\n        window.console.log('Drag ended', dragData);\n    }\n\n    // validateDropData(dropdata) {\n\n    //     return true;\n    // }\n\n    // drop(dropdata, event) {\n    //     window.console.log('whoops you dropped this on a handle', dropdata);\n    // }\n}"],"names":["BaseComponent","target","selectors","this","element","document","querySelector","reactive","masterChecklistReactiveInstance","SELECTORS","stateReady","relativeDrag","itemSelector","dataset","bookitDragHandleId","window","console","log","itemRow","fullregion","dragdrop","DragDrop","destroy","undefined","unregister","getDraggableData","id","type","bookitDragHandleType","parentId","bookitDragHandleParentId","dragStart","dragData","event","dragEnd"],"mappings":"mQAI6BA,oCAEbC,OAAQC,kBACT,IAAIC,KAAK,CACZC,QAASC,SAASC,cAAcL,QAChCM,SAAUC,2DACVN,UAAWA,WAAaO,uCAIhCC,kBACSC,cAAe,QAIdC,sDAAiDT,KAAKC,QAAQS,QAAQC,yBAC5EC,OAAOC,QAAQC,IAAI,iBAAkBL,oBAE/BM,QAAUb,SAASC,cAAcM,cAEvCG,OAAOC,QAAQC,IAAI,kCAAmCC,SAEtDH,OAAOC,QAAQC,IAAId,KAAKC,cAEnBe,WAAaD,aAEbE,SAAW,IAAIC,mBAASlB,MAGjCmB,eAC0BC,IAAlBpB,KAAKiB,eACAA,SAASI,aAItBC,yBACW,CACHC,GAAIvB,KAAKC,QAAQS,QAAQC,mBACzBa,KAAMxB,KAAKC,QAAQS,QAAQe,qBAC3BC,SAAU1B,KAAKgB,WAAWN,QAAQiB,0BAI1CC,UAAUC,SAAUC,OAEhBlB,OAAOC,QAAQC,IAAI,eAAgBe,UAGvCE,QAAQF,SAAUC,OAEdlB,OAAOC,QAAQC,IAAI,aAAce"}