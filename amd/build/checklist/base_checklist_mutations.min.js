define("mod_bookit/checklist/base_checklist_mutations",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0;return _exports.default=
/**
   * Base checklist mutations class.
   *
   * Provides common mutation functions for CRUD operations on checklist-style reactive stores.
   * Can be extended by specializations to add domain-specific mutations.
   *
   * @module mod_bookit/checklist/base_checklist_mutations
   * @copyright   2026 ssystems GmbH <oss@ssystems.de>
   * @author      Andreas Rosenthal
   * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
class{constructor(){let categoriesKey=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"categories",itemsKey=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"items";this.categoriesKey=categoriesKey,this.itemsKey=itemsKey}checklistStateEvent(){}categoriesCreated(stateManager,data){const state=stateManager.state;stateManager.setReadOnly(!1),state[this.categoriesKey].set(data.fields.id,{id:data.fields.id,name:data.fields.name,description:data.fields.description||"",sortorder:data.fields.sortorder||0}),stateManager.setReadOnly(!0)}categoriesUpdated(stateManager,data){const state=stateManager.state;stateManager.setReadOnly(!1);const existing=state[this.categoriesKey].get(data.fields.id)||{};state[this.categoriesKey].set(data.fields.id,{...existing,id:data.fields.id,name:data.fields.name,description:data.fields.description||"",sortorder:data.fields.sortorder||existing.sortorder||0}),stateManager.setReadOnly(!0)}categoriesDeleted(stateManager,data){const state=stateManager.state;stateManager.setReadOnly(!1);const itemsToDelete=[];state[this.itemsKey].forEach(((item,id)=>{item.categoryid===data.fields.id&&itemsToDelete.push(id)})),itemsToDelete.forEach((id=>state[this.itemsKey].delete(id))),state[this.categoriesKey].delete(data.fields.id),stateManager.setReadOnly(!0)}itemsCreated(stateManager,data){const state=stateManager.state;stateManager.setReadOnly(!1),state[this.itemsKey].set(data.fields.id,{id:data.fields.id,name:data.fields.name,description:data.fields.description||"",categoryid:data.fields.categoryid,sortorder:data.fields.sortorder||0,...this._getItemFields(data.fields)}),stateManager.setReadOnly(!0)}itemsUpdated(stateManager,data){const state=stateManager.state;stateManager.setReadOnly(!1);const existing=state[this.itemsKey].get(data.fields.id)||{};state[this.itemsKey].set(data.fields.id,{...existing,id:data.fields.id,name:data.fields.name,description:data.fields.description||"",categoryid:data.fields.categoryid,sortorder:data.fields.sortorder||existing.sortorder||0,...this._getItemFields(data.fields)}),stateManager.setReadOnly(!0)}itemsDeleted(stateManager,data){const state=stateManager.state;stateManager.setReadOnly(!1),state[this.itemsKey].delete(data.fields.id),stateManager.setReadOnly(!0)}_getItemFields(fields){return{}}_getCategoryFields(fields){return{}}},_exports.default}));

//# sourceMappingURL=base_checklist_mutations.min.js.map