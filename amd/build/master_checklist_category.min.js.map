{"version":3,"file":"master_checklist_category.min.js","sources":["../src/master_checklist_category.js"],"sourcesContent":["import { BaseComponent } from 'core/reactive';\nimport { masterChecklistReactiveInstance } from 'mod_bookit/master_checklist_reactive';\nimport { SELECTORS } from 'mod_bookit/master_checklist_reactive';\nimport ModalForm from 'core_form/modalform';\nimport Templates from 'core/templates';\n\nexport default class extends BaseComponent {\n\n    create(descriptor) {\n\n        window.console.log('create category component: ' + descriptor.element.dataset.bookitCategoryName);\n\n    }\n\n    static init(target, selectors) {\n        return new this({\n            element: document.querySelector(target),\n            reactive: masterChecklistReactiveInstance,\n            selectors: selectors || SELECTORS,\n        });\n    }\n\n    getWatchers() {\n        // window.console.log('GET WATCHERS');\n        return [\n            {watch: 'state:updated', handler: this._handleStateEvent},\n            // {watch: 'checklistcategories:created', handler: this._handleCategoryCreatedEvent},\n        ];\n    }\n\n    stateReady(state) {\n\n        // window.console.log('state ready');\n        // window.console.log(state);\n\n        // const name = state.masterchecklists.get(1).name;\n\n        // window.console.log(this.selectors.MASTER_CHECKLIST_TITLE);\n\n    }\n\n    _handleStateEvent(event) {\n        // window.console.log('handle state event');\n    }\n\n\n    // _handleCategoryCreatedEvent(event) {\n    //     window.console.log('handle category created event');\n    //     window.console.log(event.element);\n\n    //     // TODO cats and/or items should be own components\n\n    //     Templates.renderForPromise('mod_bookit/bookit_checklist_category',\n    //         {\n    //             id: event.element.id,\n    //             name: event.element.name,\n    //             order: event.element.order\n    //         })\n    //         .then(({html, js}) => {\n    //             // Templates.appendNodeContents(this.getElement(this.selectors.TABLE_BODY), html, js);\n    //             Templates.appendNodeContents(this.getElement(this.selectors.TABLE), html, js);\n    //         })\n    //         .catch();\n    // }\n\n}"],"names":["BaseComponent","create","descriptor","window","console","log","element","dataset","bookitCategoryName","target","selectors","this","document","querySelector","reactive","masterChecklistReactiveInstance","SELECTORS","getWatchers","watch","handler","_handleStateEvent","stateReady","state","event"],"mappings":"4fAM6BA,wBAEzBC,OAAOC,YAEHC,OAAOC,QAAQC,IAAI,8BAAgCH,WAAWI,QAAQC,QAAQC,gCAItEC,OAAQC,kBACT,IAAIC,KAAK,CACZL,QAASM,SAASC,cAAcJ,QAChCK,SAAUC,2DACVL,UAAWA,WAAaM,uCAIhCC,oBAEW,CACH,CAACC,MAAO,gBAAiBC,QAASR,KAAKS,oBAK/CC,WAAWC,QAWXF,kBAAkBG"}